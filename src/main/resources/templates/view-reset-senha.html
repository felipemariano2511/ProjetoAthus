<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Redefinir Senha - Instituto Athús</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">
<div class="w-full max-w-md bg-white rounded-xl shadow-lg p-6 sm:p-10">
    <form id="resetForm" class="space-y-6">
        <div class="text-center">
            <img
                    src="/images/logo_Athus.png"
                    alt="Instituto Athus"
                    class="mx-auto w-40"
            />
            <h2 class="text-2xl font-bold mt-4 text-gray-800">Redefinir Senha</h2>
            <p class="text-sm text-gray-500 mt-2">
                Insira sua nova senha nos campos abaixo:
            </p>
        </div>

        <div>
            <label for="novaSenha" class="block text-gray-700 font-medium mb-2">
                Nova Senha
            </label>
            <input
                    type="password"
                    id="novaSenha"
                    name="novaSenha"
                    required
                    class="w-full px-4 py-3 rounded-md border border-gray-300 focus:ring-2 focus:ring-orange-400 focus:outline-none"
                    placeholder="Digite sua nova senha"
            />
        </div>

        <div>
            <label
                    for="confirmarSenha"
                    class="block text-gray-700 font-medium mb-2"
            >
                Confirmar Nova Senha
            </label>
            <input
                    type="password"
                    id="confirmarSenha"
                    name="confirmarSenha"
                    required
                    class="w-full px-4 py-3 rounded-md border border-gray-300 focus:ring-2 focus:ring-orange-400 focus:outline-none"
                    placeholder="Confirme a nova senha"
            />
        </div>

        <button
                type="submit"
                class="w-full bg-orange-500 hover:bg-orange-600 text-white font-semibold py-3 rounded-lg transition"
        >
            Redefinir Senha
        </button>

        <p
                id="successMessage"
                class="text-green-600 text-center text-sm font-medium hidden mt-4"
        >
            Senha alterada com sucesso!
        </p>

        <p class="text-center text-xs text-gray-400 mt-6">
            © 2025 Instituto Athus — Todos os direitos reservados
        </p>
    </form>
</div>

<script>
    const form = document.getElementById('resetForm');
    const successMessage = document.getElementById('successMessage');

    form.addEventListener('submit', async (e) => {
        e.preventDefault();

        const novaSenha = document.getElementById('novaSenha').value;
        const confirmarSenha = document.getElementById('confirmarSenha').value;

        if (novaSenha !== confirmarSenha) {
            alert('As senhas não coincidem.');
            return;
        }

        const response = await fetch(window.location.href, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ novaSenha }),
        });

        if (response.ok) {
            successMessage.classList.remove('hidden');
            form.reset();
        } else {
            alert('Erro ao redefinir senha. Tente novamente.');
        }
    });
</script>
</body>
</html>
